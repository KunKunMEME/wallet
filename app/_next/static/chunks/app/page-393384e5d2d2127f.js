(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{2714:(e,t,l)=>{"use strict";l.d(t,{J:()=>i});var a=l(5155),r=l(2115),s=l(968),o=l(2085),d=l(3999);let n=(0,o.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),i=r.forwardRef((e,t)=>{let{className:l,...r}=e;return(0,a.jsx)(s.b,{ref:t,className:(0,d.cn)(n(),l),...r})});i.displayName=s.b.displayName},3432:(e,t,l)=>{"use strict";l.d(t,{d:()=>s});var a=l(5155);l(2115);var r=l(5623);let s=e=>{let{page:t,pageSize:l,total:s,onPageChange:o,recordsText:d=""}=e,n=Math.max(1,Math.ceil(s/l));return(0,a.jsxs)("div",{className:"flex justify-center mt-4 items-center gap-1 select-none",children:[(0,a.jsx)("span",{className:"cursor-pointer px-2 py-1 text-sm ".concat(1===t?"text-gray-400 cursor-not-allowed":"text-yellow-600 hover:text-yellow-700 dark:text-yellow-500 dark:hover:text-yellow-400"),onClick:()=>1!==t&&o(t-1),children:"<"}),Array.from({length:n}).map((e,l)=>{let s=l+1;return 1===s||s===n||s>=t-1&&s<=t+1&&n>4||n<=7?(0,a.jsx)("span",{className:"px-2 py-1 text-sm cursor-pointer ".concat(s===t?"font-bold border border-yellow-500 bg-yellow-100 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-400":"hover:text-yellow-700 dark:hover:text-yellow-400"),onClick:()=>o(s),children:s},s):s===t-2&&s>1&&s<n-1||s===t+2&&s<n&&s>2?(0,a.jsx)("span",{className:"px-1 text-yellow-500",children:(0,a.jsx)(r.A,{className:"h-4 w-4"})},s):null}),(0,a.jsx)("span",{className:"cursor-pointer px-2 py-1 text-sm ".concat(t===n?"text-gray-400 cursor-not-allowed":"text-yellow-600 hover:text-yellow-700 dark:text-yellow-500 dark:hover:text-yellow-400"),onClick:()=>t!==n&&o(t+1),children:">"}),(0,a.jsxs)("span",{className:"text-yellow-600/70 dark:text-yellow-500/70 ml-2 text-xs",children:[d," ",s]})]})}},3580:(e,t,l)=>{"use strict";l.d(t,{dj:()=>w});var a=l(2115);let r=0,s=new Map,o=e=>{if(s.has(e))return;let t=setTimeout(()=>{s.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);s.set(e,t)},d=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:l}=t;return l?o(l):e.toasts.forEach(e=>{o(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===l||void 0===l?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},n=[],i={toasts:[]};function c(e){i=d(i,e),n.forEach(e=>{e(i)})}function x(e){let{...t}=e,l=(r=(r+1)%Number.MAX_SAFE_INTEGER).toString(),a=()=>c({type:"DISMISS_TOAST",toastId:l});return c({type:"ADD_TOAST",toast:{...t,id:l,open:!0,onOpenChange:e=>{e||a()}}}),{id:l,dismiss:a,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:l}})}}function w(){let[e,t]=a.useState(i);return a.useEffect(()=>(n.push(t),()=>{let e=n.indexOf(t);e>-1&&n.splice(e,1)}),[e]),{...e,toast:x,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},4336:(e,t,l)=>{"use strict";l.d(t,{HomeView:()=>P});var a=l(5155),r=l(7168),s=l(8482),o=l(2115),d=l(3651),n=l(4416),i=l(3999);let c=d.bL;d.l9;let x=d.ZL;d.bm;let w=o.forwardRef((e,t)=>{let{className:l,...r}=e;return(0,a.jsx)(d.hJ,{ref:t,className:(0,i.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",l),...r})});w.displayName=d.hJ.displayName;let m=o.forwardRef((e,t)=>{let{className:l,children:r,...s}=e;return(0,a.jsxs)(x,{children:[(0,a.jsx)(w,{}),(0,a.jsxs)(d.UC,{ref:t,className:(0,i.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",l),...s,children:[r,(0,a.jsxs)(d.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,a.jsx)(n.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});m.displayName=d.UC.displayName;let u=e=>{let{className:t,...l}=e;return(0,a.jsx)("div",{className:(0,i.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...l})};u.displayName="DialogHeader";let y=e=>{let{className:t,...l}=e;return(0,a.jsx)("div",{className:(0,i.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...l})};y.displayName="DialogFooter";let f=o.forwardRef((e,t)=>{let{className:l,...r}=e;return(0,a.jsx)(d.hE,{ref:t,className:(0,i.cn)("text-lg font-semibold leading-none tracking-tight",l),...r})});f.displayName=d.hE.displayName;let h=o.forwardRef((e,t)=>{let{className:l,...r}=e;return(0,a.jsx)(d.VY,{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",l),...r})});h.displayName=d.VY.displayName;var p=l(9852),g=l(2714),b=l(3432),v=l(3580),N=l(4058);let j=()=>{let[e,t]=(0,o.useState)(!1);return(0,o.useEffect)(()=>{t(!0)},[]),e};var k=l(5506),C=l(757),S=l(3598),A=l(978),T=l(4870);function P(){let e=(0,k.G)(),t=(0,k.l)(),[l,d]=(0,o.useState)(!1),[n,x]=(0,o.useState)(""),{t:w}=(0,N.B)(),{toast:P}=(0,v.dj)(),[I,R]=(0,o.useState)([]),[E,D]=(0,o.useState)(1),[F,B]=(0,o.useState)(5),[U,M]=(0,o.useState)(0),[L,O]=(0,o.useState)(!1),[_,K]=(0,o.useState)(e.chainAddress),[Z,J]=(0,o.useState)({amount:"0",createAt:""}),[$,V]=(0,o.useState)(!1),[W,z]=(0,o.useState)(0),[Y,G]=(0,o.useState)(""),[H,q]=(0,o.useState)(!1),[X,Q]=(0,o.useState)("");async function ee(){if(!e.address||!e.key)return;let{getBalance:t}=window.P2P;try{let l=await t(e.address,e.key);e.setBalance(l.amount),e.setDiscordId(l.discordId)}catch(e){(null==e?void 0:e.type)==="error"&&P({title:w("error"),description:null==e?void 0:e.msg,variant:"destructive"})}}async function et(){if(!e.address||!e.key)return;let{getTransfer:t}=window.P2P;try{let l=await t(e.address,E,F);R(l.list),M(l.meta.total)}catch(e){(null==e?void 0:e.type)==="error"&&P({title:w("error"),description:null==e?void 0:e.msg,variant:"destructive"})}}async function el(){if(!e.address||!e.key)return;let{getLastSignTime:t}=window.P2P;try{let l=await t(e.address);J(l)}catch(e){(null==e?void 0:e.type)==="error"&&P({title:w("error"),description:null==e?void 0:e.msg,variant:"destructive"})}}let ea=()=>{if(!(null==Z?void 0:Z.createAt)){z(100);return}let e=new Date(Z.createAt),t=(new Date().getTime()-e.getTime())/36e5;G(new Date(e.getTime()+72e5).toLocaleString()),t>=2?z(100):z(Math.min(Math.max(t/2*100,0),100))};async function er(){if(e.address&&e.key){if(W<100){let e=new Date(Z.createAt),t=Math.max(0,2-(new Date().getTime()-e.getTime())/36e5),l=Math.floor(t%1*60);P({title:w("signCooldown"),description:"".concat(w("nextSignIn")," ").concat(Math.floor(t),"h ").concat(l,"m"),variant:"default"});return}q(!0)}}async function es(){if("i love kunkun"!==X.trim().toLowerCase()){P({title:w("error"),description:w("invalidSignVerification"),variant:"destructive"});return}let{walletSign:t}=window.P2P;try{await t(e.address,e.key),el(),z(0),q(!1),Q(""),P({title:w("success"),description:w("sign")+" "+w("success"),variant:"default"})}catch(e){(null==e?void 0:e.type)==="error"&&P({title:w("error"),description:null==e?void 0:e.msg,variant:"destructive"})}}if((0,o.useEffect)(()=>{K(e.chainAddress),ee(),el()},[e.address,e.key]),(0,o.useEffect)(()=>{et()},[e.address,e.key,E,F]),(0,o.useEffect)(()=>{ea();let e=setInterval(()=>{ea()},6e4);return()=>clearInterval(e)},[Z]),!j()||!e.address||t.isLock)return null;let eo=e=>+e>0?(0,a.jsx)(A.A,{className:"h-5 w-5 text-green-600"}):0>+e?(0,a.jsx)(T.A,{className:"h-5 w-5 text-red-600"}):(0,a.jsx)(A.A,{className:"h-5 w-5 text-gray-400"}),ed=e=>+e>0?"bg-green-100 dark:bg-green-900/30":0>+e?"bg-red-100 dark:bg-red-900/30":"",en=e=>+e>0?"text-green-600 dark:text-green-400":0>+e?"text-red-600 dark:text-red-400":"text-gray-400",ei=async()=>{if(!/^0x[a-fA-F0-9]{40}$/.test(_)){P({title:w("error"),description:w("invalidAddress"),variant:"destructive"});return}try{let{txHash:t}=await window.P2P.payChain(e.key,n,_);d(!1),x(""),e.setChainAddress(_),P({title:w("success"),description:t,variant:"default"})}catch(e){(null==e?void 0:e.type)==="error"&&P({title:w("error"),description:null==e?void 0:e.msg,variant:"destructive"})}};return(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("img",{src:"/images/placeholder-logo2.png",alt:"KUNKUN",className:"w-10"}),(0,a.jsx)("h1",{className:"text-2xl font-bold text-yellow-500",children:w("home")})]}),(0,a.jsxs)(s.Zp,{className:"border-2 border-yellow-400 bg-gradient-to-br from-pink-50 to-yellow-50 dark:from-gray-900 dark:to-gray-800",children:[(0,a.jsxs)(s.aR,{className:"pb-2 flex flex-row items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(s.ZB,{className:"text-yellow-700 dark:text-yellow-400",children:w("currentBalance")}),(0,a.jsx)(s.BT,{className:"text-yellow-600/80 dark:text-yellow-500/80",children:w("yourTokenBalance")})]}),(0,a.jsxs)("div",{className:"flex flex-row  items-center ",children:[(0,a.jsxs)("div",{className:"w-full h-2 bg-gray-200 rounded-full dark:bg-gray-700",children:[(0,a.jsx)("div",{className:"h-2 bg-yellow-400 rounded-full dark:bg-yellow-600 transition-all duration-300 ease-in-out",style:{width:"".concat(W,"%")}}),W<100&&(0,a.jsxs)("div",{className:"text-xs text-yellow-600/80 dark:text-yellow-500/80",children:[w("nextSignIn")," ",Y]}),W>=100&&(0,a.jsx)("div",{className:"text-xs text-green-600 dark:text-green-400",children:w("canSignAgain")})]}),(0,a.jsx)(r.$,{variant:"outline",size:"sm",onClick:er,disabled:W<100,className:"border-yellow-400 text-yellow-700 hover:bg-yellow-100 hover:text-yellow-800 dark:border-yellow-800 dark:text-yellow-400 dark:hover:bg-yellow-900/30 ".concat(W<100?"opacity-50 cursor-not-allowed":""," ml-5"),children:W>=100?w("sign"):"".concat(Math.floor(W),"%")})]})]}),(0,a.jsxs)(s.Wu,{children:[(0,a.jsxs)("div",{className:"text-3xl font-bold text-yellow-600 dark:text-yellow-400",children:[Number(new S.A(e.balance).toFixed(2)).toLocaleString()," KUNKUN"]}),(0,a.jsx)("div",{className:"mt-3 flex space-x-2",children:(0,a.jsxs)(r.$,{variant:"outline",size:"sm",onClick:()=>{x(""),d(!0)},className:"border-yellow-400 text-yellow-700 hover:bg-yellow-100 hover:text-yellow-800 dark:border-yellow-800 dark:text-yellow-400 dark:hover:bg-yellow-900/30",children:[(0,a.jsx)(T.A,{className:"mr-2 h-4 w-4"}),w("withdraw")]})})]})]}),(0,a.jsxs)(s.Zp,{className:"border-2 border-yellow-400 bg-gradient-to-br from-pink-50 to-yellow-50 dark:from-gray-900 dark:to-gray-800",children:[(0,a.jsxs)(s.aR,{className:"pb-2 flex flex-row justify-between items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(s.ZB,{className:"text-yellow-700 dark:text-yellow-400",children:w("transactionHistory")}),(0,a.jsx)(s.BT,{className:"text-yellow-600/80 dark:text-yellow-500/80",children:w("recentTransactions")})]}),(0,a.jsx)(b.d,{page:E,pageSize:F,total:U,onPageChange:D,recordsText:w("records")})]}),(0,a.jsx)(s.Wu,{className:"max-h-[350px] overflow-y-auto",children:(0,a.jsx)("div",{className:"space-y-3",children:I.length>0?I.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between border-b border-yellow-200 dark:border-yellow-900/50 pb-3",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:(0,i.cn)("p-1.5 rounded-full mr-2",ed(e.amount)),children:eo(e.amount)}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium text-yellow-700 dark:text-yellow-400 text-sm",children:e.type}),(0,a.jsx)("div",{className:"text-xs text-yellow-600/70 dark:text-yellow-500/70",children:(0,C.m)(new Date(e.create),{addSuffix:!0})})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("div",{className:en(e.amount),children:[" ",Number(new S.A(e.amount).toFixed(2)).toLocaleString()," KUNKUN"]}),(0,a.jsx)("div",{className:"text-xs text-yellow-600/70 dark:text-yellow-500/70",children:e.tag2?e.tag2:e.tag})]})]},e.id)):(0,a.jsx)("div",{className:"text-center py-4 text-yellow-600/70 dark:text-yellow-500/70",children:w("noTransactions")})})})]}),(0,a.jsx)(c,{open:l,onOpenChange:d,children:(0,a.jsxs)(m,{className:"sm:max-w-[400px] border-2 border-yellow-400 bg-white dark:bg-gray-900",children:[(0,a.jsxs)(u,{children:[(0,a.jsx)(f,{className:"text-yellow-700 dark:text-yellow-400",children:w("withdrawalConfirmation")}),(0,a.jsx)(h,{className:"text-yellow-600/80 dark:text-yellow-500/80",children:w("minimumWithdrawal")})]}),(0,a.jsxs)("div",{className:"grid gap-4 py-3",children:[(0,a.jsxs)("div",{className:"grid grid-cols-4 items-center gap-3",children:[(0,a.jsx)(g.J,{htmlFor:"amount",className:"text-right text-yellow-700 dark:text-yellow-400",children:w("withdrawalAmount")}),(0,a.jsx)(p.p,{id:"amount",type:"number",value:n,onChange:e=>x(e.target.value),className:"col-span-3 border-yellow-300 focus:border-yellow-500 dark:border-yellow-900 dark:focus:border-yellow-700",min:"10000",step:"1"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-4 items-center gap-3",children:[(0,a.jsx)(g.J,{htmlFor:"address",className:"text-right text-yellow-700 dark:text-yellow-400",children:w("to")}),(0,a.jsx)(p.p,{id:"amount",type:"text",value:_,onChange:e=>K(e.target.value),className:"col-span-3 border-yellow-300 focus:border-yellow-500 dark:border-yellow-900 dark:focus:border-yellow-700",autoComplete:"off"})]})]}),(0,a.jsxs)(y,{children:[(0,a.jsx)(r.$,{variant:"outline",onClick:()=>d(!1),className:"border-yellow-400 text-yellow-700 hover:bg-yellow-100 hover:text-yellow-800 dark:border-yellow-800 dark:text-yellow-400 dark:hover:bg-yellow-900/30",children:w("cancel")}),(0,a.jsx)(r.$,{onClick:ei,disabled:L||!n||1e4>Number.parseFloat(n)||Number.parseFloat(n)>Number.parseFloat(e.balance),className:"bg-yellow-500 hover:bg-yellow-600 text-white dark:bg-yellow-600 dark:hover:bg-yellow-700",children:L?w("processing"):w("confirm")})]})]})}),(0,a.jsx)(c,{open:H,onOpenChange:q,children:(0,a.jsxs)(m,{className:"sm:max-w-[400px] border-2 border-yellow-400 bg-white dark:bg-gray-900",children:[(0,a.jsxs)(u,{children:[(0,a.jsx)(f,{className:"text-yellow-700 dark:text-yellow-400",children:w("signVerification")}),(0,a.jsx)(h,{className:"text-yellow-600/80 dark:text-yellow-500/80",children:w("enterSignVerification")})]}),(0,a.jsx)("div",{className:"grid gap-4 py-3",children:(0,a.jsxs)("div",{className:"grid grid-cols-4 items-center gap-3",children:[(0,a.jsx)(g.J,{htmlFor:"verification",className:"text-right text-yellow-700 dark:text-yellow-400 select-none",children:w("verification")}),(0,a.jsx)(p.p,{id:"verification",type:"text",value:X,onChange:e=>Q(e.target.value),className:"col-span-3 border-yellow-300 focus:border-yellow-500 dark:border-yellow-900 dark:focus:border-yellow-700",placeholder:"I love Kunkun",onPaste:e=>e.preventDefault(),autoComplete:"off"})]})}),(0,a.jsxs)(y,{children:[(0,a.jsx)(r.$,{variant:"outline",onClick:()=>{q(!1),Q("")},className:"border-yellow-400 text-yellow-700 hover:bg-yellow-100 hover:text-yellow-800 dark:border-yellow-800 dark:text-yellow-400 dark:hover:bg-yellow-900/30",children:w("cancel")}),(0,a.jsx)(r.$,{onClick:es,className:"bg-yellow-500 hover:bg-yellow-600 text-white dark:bg-yellow-600 dark:hover:bg-yellow-700",children:w("confirm")})]})]})})]})}},4397:(e,t,l)=>{"use strict";l.d(t,{LoginForm:()=>u});var a=l(5155),r=l(2115),s=l(4898),o=l(8482),d=l(7168),n=l(9852),i=l(2714),c=l(2919),x=l(4058),w=l(5506),m=l(3580);function u(){let{isLoggedIn:e,login:t,isWalletCreated:l}=(0,s.v)(),u=(0,w.G)(),y=(0,w.l)(),[f,h]=(0,r.useState)(""),[p,g]=(0,r.useState)(!1),{t:b}=(0,x.B)(),{toast:v}=(0,m.dj)(),N=async e=>{let{encPassword:t,getBalance:l}=window.P2P;t(f)===u.password?y.setIsLock(!1):v({title:b("loginFailed"),description:b("incorrectPassword"),variant:"destructive"})};return u.address&&y.isLock?(0,a.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-yellow-50 to-pink-50 dark:from-gray-900 dark:to-yellow-900/20",children:(0,a.jsxs)(o.Zp,{className:"w-full max-w-md border-2 border-yellow-400 bg-white dark:bg-gray-900",children:[(0,a.jsxs)(o.aR,{className:"space-y-1",children:[(0,a.jsx)("div",{className:"flex justify-center mb-4",children:(0,a.jsx)("img",{src:"/images/kunkun-full.png",alt:"KUNKUN",className:"w-24 h-24"})}),(0,a.jsxs)(o.ZB,{className:"text-2xl font-bold text-center text-yellow-600 dark:text-yellow-400",children:["KUNKUN ",b("wallet")]}),(0,a.jsx)(o.BT,{className:"text-center text-yellow-600/80 dark:text-yellow-500/80",children:b("enterPasswordToLogin")})]}),(0,a.jsx)(o.Wu,{children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.J,{htmlFor:"password",className:"text-yellow-700 dark:text-yellow-400",children:b("walletPassword")}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(c.A,{className:"absolute left-3 top-3 h-4 w-4 text-yellow-500"}),(0,a.jsx)(n.p,{id:"password",type:"password",placeholder:b("enterYourPassword"),className:"pl-10 border-yellow-300 focus:border-yellow-500 dark:border-yellow-900 dark:focus:border-yellow-700",value:f,onChange:e=>h(e.target.value),autoComplete:"off"})]})]}),(0,a.jsx)(d.$,{onClick:N,className:"w-full bg-yellow-500 hover:bg-yellow-600 text-white dark:bg-yellow-600 dark:hover:bg-yellow-700",disabled:p,children:p?b("loggingIn"):b("login")})]})})]})}):null}},5298:(e,t,l)=>{Promise.resolve().then(l.bind(l,6415)),Promise.resolve().then(l.bind(l,4336)),Promise.resolve().then(l.bind(l,4397))},6415:(e,t,l)=>{"use strict";l.d(t,{CreateWallet:()=>f});var a=l(5155),r=l(2115),s=l(4898),o=l(8482),d=l(7168),n=l(9852),i=l(2714),c=l(2919),x=l(238),w=l(4449),m=l(3580),u=l(4058),y=l(5506);function f(){let{createWallet:e,isWalletCreated:t}=(0,s.v)(),l=(0,y.G)(),f=(0,y.l)(),[h,p]=(0,r.useState)(""),[g,b]=(0,r.useState)(""),[v,N]=(0,r.useState)(""),[j,k]=(0,r.useState)(""),{toast:C}=(0,m.dj)(),{t:S}=(0,u.B)(),[A,T]=(0,r.useState)(!1),[P,I]=(0,r.useState)(0);if((0,r.useEffect)(()=>{R();let e=setInterval(()=>{R()},2e3);return()=>{clearInterval(e)}},[]),l.address)return null;function R(){if(window.IPC){let{getDelay:e}=window.IPC;I(e())}}let E=async e=>{if(h.length<8){k(S("passwordMinLength"));return}if(h!==g){k(S("passwordsDoNotMatch"));return}if(v&&window.IPC){let{validateAddress:e}=window.IPC;if(!e(v)){k(S("invalidReferralCode"));return}}T(!0);try{if(window.IPC)try{let{getNewAddress:e,MD5:t}=window.IPC,{encPassword:a,getBalance:r,setRelativeAddress:s}=window.P2P,{address:o,label:d,walletKey:n}=e(),i=await r(o,n);l.setLabel(d),l.setAddress(o),l.setKey(n),l.setPassword(a(h)),l.setBalance(i.amount),f.setIsLock(!1),v&&s(o,n,v).then(()=>{l.setReferralAddress(v)}),C({title:S("walletCreated"),description:v?S("referralBonusReceived"):S("walletCreatedSuccessfully")})}catch(e){console.error(e),k(S("walletCreationFailed"))}}catch(e){k(S("walletCreationFailed")),console.error(e)}finally{T(!1)}};return(0,a.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-yellow-50 to-pink-50 dark:from-gray-900 dark:to-yellow-900/20",children:(0,a.jsxs)(o.Zp,{className:"w-full max-w-md border-2 border-yellow-400 bg-white dark:bg-gray-900",children:[(0,a.jsxs)(o.aR,{className:"space-y-1",children:[(0,a.jsx)("div",{className:"flex justify-center mb-4",children:(0,a.jsx)("img",{src:"/images/kunkun-full.png",alt:"KUNKUN",className:"w-24 h-24"})}),(0,a.jsxs)(o.ZB,{className:"text-2xl font-bold text-center text-yellow-600 dark:text-yellow-400",children:["KUNKUN ",S("wallet")]}),(0,a.jsx)(o.BT,{className:"text-center text-yellow-600/80 dark:text-yellow-500/80",children:S("setYourPassword")})]}),(0,a.jsx)(o.Wu,{children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.J,{htmlFor:"password",className:"text-yellow-700 dark:text-yellow-400",children:S("walletPassword")}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(c.A,{className:"absolute left-3 top-3 h-4 w-4 text-yellow-500"}),(0,a.jsx)(n.p,{id:"password",type:"password",placeholder:S("setYourPassword"),className:"pl-10 border-yellow-300 focus:border-yellow-500 dark:border-yellow-900 dark:focus:border-yellow-700",value:h,onChange:e=>p(e.target.value),required:!0,autoComplete:"off"})]}),(0,a.jsx)("p",{className:"text-xs text-yellow-600/80 dark:text-yellow-500/80",children:S("passwordMinLength")})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.J,{htmlFor:"confirm-password",className:"text-yellow-700 dark:text-yellow-400",children:S("confirmPassword")}),(0,a.jsx)(n.p,{id:"confirm-password",type:"password",placeholder:S("confirmPassword"),className:"border-yellow-300 focus:border-yellow-500 dark:border-yellow-900 dark:focus:border-yellow-700",value:g,onChange:e=>b(e.target.value),required:!0})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.J,{htmlFor:"referral-code",className:"text-yellow-700 dark:text-yellow-400",children:S("referralCode")}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(x.A,{className:"absolute left-3 top-3 h-4 w-4 text-yellow-500"}),(0,a.jsx)(n.p,{id:"referral-code",placeholder:S("enterReferralCode"),className:"pl-10 border-yellow-300 focus:border-yellow-500 dark:border-yellow-900 dark:focus:border-yellow-700",value:v,onChange:e=>N(e.target.value),autoComplete:"off"})]}),(0,a.jsx)("p",{className:"text-xs text-yellow-600/80 dark:text-yellow-500/80",children:S("referralBonus")})]}),j&&(0,a.jsx)("div",{className:"text-sm text-red-500",children:j}),(0,a.jsx)(d.$,{onClick:E,className:"w-full bg-yellow-500 hover:bg-yellow-600 text-white dark:bg-yellow-600 dark:hover:bg-yellow-700",disabled:A||0==P,children:A?S("creating"):S("createWallet")}),0==P&&(0,a.jsxs)("div",{className:"flex items-center justify-center gap-2 text-sm text-red-600/80 dark:text-red-500/80 text-center",children:[(0,a.jsx)(w.A,{className:"h-4 w-4"}),S("p2pUnlinked")]})]})}),(0,a.jsx)(o.wL,{className:"border-t border-yellow-200 dark:border-yellow-900/50 pt-4",children:(0,a.jsx)("div",{className:"text-sm text-yellow-600/80 dark:text-yellow-500/80 text-center w-full",children:S("termsAndConditions")})})]})})}},8482:(e,t,l)=>{"use strict";l.d(t,{BT:()=>i,Wu:()=>c,ZB:()=>n,Zp:()=>o,aR:()=>d,wL:()=>x});var a=l(5155),r=l(2115),s=l(3999);let o=r.forwardRef((e,t)=>{let{className:l,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,s.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",l),...r})});o.displayName="Card";let d=r.forwardRef((e,t)=>{let{className:l,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,s.cn)("flex flex-col space-y-1.5 p-6",l),...r})});d.displayName="CardHeader";let n=r.forwardRef((e,t)=>{let{className:l,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,s.cn)("text-2xl font-semibold leading-none tracking-tight",l),...r})});n.displayName="CardTitle";let i=r.forwardRef((e,t)=>{let{className:l,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,s.cn)("text-sm text-muted-foreground",l),...r})});i.displayName="CardDescription";let c=r.forwardRef((e,t)=>{let{className:l,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,s.cn)("p-6 pt-0",l),...r})});c.displayName="CardContent";let x=r.forwardRef((e,t)=>{let{className:l,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,s.cn)("flex items-center p-6 pt-0",l),...r})});x.displayName="CardFooter"},9852:(e,t,l)=>{"use strict";l.d(t,{p:()=>o});var a=l(5155),r=l(2115),s=l(3999);let o=r.forwardRef((e,t)=>{let{className:l,type:r,...o}=e;return(0,a.jsx)("input",{type:r,className:(0,s.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",l),ref:t,...o})});o.displayName="Input"}},e=>{var t=t=>e(e.s=t);e.O(0,[9,447,977,914,853,120,441,684,358],()=>t(5298)),_N_E=e.O()}]);