(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[663],{238:(e,l,t)=>{"use strict";t.d(l,{A:()=>r});let r=(0,t(9946).A)("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]])},649:(e,l,t)=>{"use strict";t.d(l,{ReferralsView:()=>p});var r=t(5155),s=t(4898),a=t(8482),d=t(7168),o=t(7580),i=t(238);let c=(0,t(9946).A)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);var x=t(4503),n=t(4058),y=t(5506),m=t(2115),w=t(3598),h=t(3432);function p(){let{referralData:e,isLoggedIn:l}=(0,s.v)(),{toast:t}=(0,x.dj)(),{t:p}=(0,n.B)(),u=(0,y.G)(),f=(0,y.l)(),[j,v]=(0,m.useState)({LV1Count:0,LV2Count:0,LV1Amount:"0",LV2Amount:"0"}),[k,N]=(0,m.useState)([]),[g,b]=(0,m.useState)(1),[A,C]=(0,m.useState)(5),[L,R]=(0,m.useState)(0),V=async()=>{if(!u.address||!u.key)return;let{getRelativeInfo:e}=window.P2P;try{let l=await e(u.address);v(l)}catch(e){(null==e?void 0:e.type)==="error"&&t({title:p("error"),description:null==e?void 0:e.msg,variant:"destructive"})}},_=async()=>{if(!u.address||!u.key)return;let{getRelativeList:e}=window.P2P;try{let l=await e(u.address,g,A);N(l.list),R(l.meta.total)}catch(e){(null==e?void 0:e.type)==="error"&&t({title:p("error"),description:null==e?void 0:e.msg,variant:"destructive"})}};return((0,m.useEffect)(()=>{V()},[u.address,u.key]),(0,m.useEffect)(()=>{_()},[u.address,u.key,g,A]),!u.address||f.isLock)?null:(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("img",{src:"/images/lv.png",alt:"KUNKUN",className:"w-10 h-10"}),(0,r.jsx)("h1",{className:"text-2xl font-bold text-yellow-500",children:p("referrals")})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[(0,r.jsxs)(a.Zp,{className:"border-2 border-yellow-400 bg-gradient-to-br from-pink-50 to-yellow-50 dark:from-gray-900 dark:to-gray-800",children:[(0,r.jsx)(a.aR,{className:"pb-1 pt-3",children:(0,r.jsx)(a.ZB,{className:"text-sm font-medium text-yellow-700 dark:text-yellow-400",children:p("totalReferrals")})}),(0,r.jsx)(a.Wu,{children:(0,r.jsx)("div",{className:"flex items-center",children:(0,r.jsxs)("div",{className:"text-xl font-bold text-yellow-700 dark:text-yellow-400 ",children:[(0,r.jsxs)("p",{className:"flex flex-row items-center",children:[(0,r.jsx)(o.A,{className:"h-5 w-5 mr-2 text-yellow-500"})," ",j.LV1Count+j.LV2Count," ",p("people")]}),(0,r.jsxs)("p",{className:"text-xs text-yellow-500",children:[p("level1Referrals")," : ",j.LV1Count]}),(0,r.jsxs)("p",{className:"text-xs text-yellow-500",children:[p("level2Referrals")," : ",j.LV2Count]})]})})})]}),(0,r.jsxs)(a.Zp,{className:"border-2 border-yellow-400 bg-gradient-to-br from-pink-50 to-yellow-50 dark:from-gray-900 dark:to-gray-800",children:[(0,r.jsx)(a.aR,{className:"pb-1 pt-3",children:(0,r.jsx)(a.ZB,{className:"text-sm font-medium text-yellow-700 dark:text-yellow-400",children:p("referralRewards")})}),(0,r.jsx)(a.Wu,{children:(0,r.jsx)("div",{className:"flex items-center",children:(0,r.jsxs)("div",{className:"text-xl font-bold text-yellow-700 dark:text-yellow-400",children:[(0,r.jsxs)("p",{className:"flex flex-row items-center",children:[(0,r.jsx)(i.A,{className:"h-5 w-5 mr-2 text-yellow-500"})," ",new w.A(j.LV1Amount).add(j.LV2Amount).toFixed(2)]}),(0,r.jsxs)("p",{className:"text-xs text-yellow-500",children:[p("level1Referrals")," : ",new w.A(j.LV1Amount).toFixed(2)]}),(0,r.jsxs)("p",{className:"text-xs text-yellow-500",children:[p("level2Referrals")," : ",new w.A(j.LV2Amount).toFixed(2)]})]})})})]})]}),(0,r.jsxs)(a.Zp,{className:"border-2 border-yellow-400 bg-gradient-to-br from-pink-50 to-yellow-50 dark:from-gray-900 dark:to-gray-800",children:[(0,r.jsxs)(a.aR,{className:"pb-2",children:[(0,r.jsx)(a.BT,{className:"text-sm font-medium text-yellow-700 dark:text-yellow-400",children:p("inviteFriends")}),(0,r.jsx)("div",{className:"text-xs text-yellow-600/80 dark:text-yellow-500/80",children:p("referralBonusExplanation")})]}),(0,r.jsx)(a.Wu,{children:(0,r.jsxs)("div",{className:"bg-yellow-100 dark:bg-yellow-900/30 p-2 rounded-md flex justify-between items-center",children:[(0,r.jsx)("div",{className:"text-sm truncate text-yellow-700 dark:text-yellow-400 text-center flex-1",children:u.address}),(0,r.jsx)(d.$,{variant:"ghost",size:"icon",onClick:()=>{navigator.clipboard.writeText(u.address),t({title:p("copied"),description:p("referralCodeCopied")})},className:"text-yellow-600 hover:text-yellow-700 hover:bg-yellow-100 dark:text-yellow-400 dark:hover:bg-yellow-900/30",children:(0,r.jsx)(c,{className:"h-4 w-4"})})]})})]}),(0,r.jsxs)(a.Zp,{className:"border-2 border-yellow-400 bg-gradient-to-br from-pink-50 to-yellow-50 dark:from-gray-900 dark:to-gray-800",children:[(0,r.jsx)(a.aR,{className:"pb-1  ",children:(0,r.jsxs)(a.ZB,{className:"text-sm font-medium text-yellow-700 dark:text-yellow-400 flex flex-row items-center justify-between",children:[(0,r.jsxs)("p",{children:[" ",p("referralRewardsList")]}),(0,r.jsx)(h.d,{page:g,pageSize:A,total:L,onPageChange:b,recordsText:p("records")})]})}),(0,r.jsx)(a.Wu,{children:(0,r.jsxs)("div",{className:"rounded-md border border-yellow-200 dark:border-yellow-900/50 max-h-[200px] overflow-y-auto",children:[(0,r.jsxs)("div",{className:"grid grid-cols-[160px_80px_auto_60px_auto] p-2 text-xs font-medium border-b border-yellow-200 dark:border-yellow-900/50 bg-yellow-100/50 dark:bg-yellow-900/20 text-yellow-700 dark:text-yellow-400",children:[(0,r.jsx)("div",{children:p("userId")}),(0,r.jsx)("div",{children:p("registrationDate")}),(0,r.jsx)("div",{children:p("rewards")}),(0,r.jsx)("div",{children:"LV2"}),(0,r.jsx)("div",{children:"LV2 rewards"})]}),k.map(e=>(0,r.jsxs)("div",{className:"grid grid-cols-[160px_80px_auto_60px_auto] p-2 text-xs border-b border-yellow-200 dark:border-yellow-900/50 last:border-0 text-yellow-600 dark:text-yellow-500",children:[(0,r.jsx)("div",{className:"truncate",children:e.address}),(0,r.jsx)("div",{children:new Date(e.time).toLocaleDateString()}),(0,r.jsx)("div",{children:new w.A(e.amount).toFixed(2)}),(0,r.jsx)("div",{children:e.LV2Total}),(0,r.jsx)("div",{children:new w.A(e.LV2Amount).toFixed(2)})]},e.address))]})})]})]})}},2493:(e,l,t)=>{Promise.resolve().then(t.bind(t,649))},3432:(e,l,t)=>{"use strict";t.d(l,{d:()=>a});var r=t(5155);t(2115);var s=t(5623);let a=e=>{let{page:l,pageSize:t,total:a,onPageChange:d,recordsText:o=""}=e,i=Math.max(1,Math.ceil(a/t));return(0,r.jsxs)("div",{className:"flex justify-center mt-4 items-center gap-1 select-none",children:[(0,r.jsx)("span",{className:"cursor-pointer px-2 py-1 text-sm ".concat(1===l?"text-gray-400 cursor-not-allowed":"text-yellow-600 hover:text-yellow-700 dark:text-yellow-500 dark:hover:text-yellow-400"),onClick:()=>1!==l&&d(l-1),children:"<"}),Array.from({length:i}).map((e,t)=>{let a=t+1;return 1===a||a===i||a>=l-1&&a<=l+1&&i>4||i<=7?(0,r.jsx)("span",{className:"px-2 py-1 text-sm cursor-pointer ".concat(a===l?"font-bold border border-yellow-500 bg-yellow-100 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-400":"hover:text-yellow-700 dark:hover:text-yellow-400"),onClick:()=>d(a),children:a},a):a===l-2&&a>1&&a<i-1||a===l+2&&a<i&&a>2?(0,r.jsx)("span",{className:"px-1 text-yellow-500",children:(0,r.jsx)(s.A,{className:"h-4 w-4"})},a):null}),(0,r.jsx)("span",{className:"cursor-pointer px-2 py-1 text-sm ".concat(l===i?"text-gray-400 cursor-not-allowed":"text-yellow-600 hover:text-yellow-700 dark:text-yellow-500 dark:hover:text-yellow-400"),onClick:()=>l!==i&&d(l+1),children:">"}),(0,r.jsxs)("span",{className:"text-yellow-600/70 dark:text-yellow-500/70 ml-2 text-xs",children:[o," ",a]})]})}},5623:(e,l,t)=>{"use strict";t.d(l,{A:()=>r});let r=(0,t(9946).A)("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]])},7580:(e,l,t)=>{"use strict";t.d(l,{A:()=>r});let r=(0,t(9946).A)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},8482:(e,l,t)=>{"use strict";t.d(l,{BT:()=>c,Wu:()=>x,ZB:()=>i,Zp:()=>d,aR:()=>o,wL:()=>n});var r=t(5155),s=t(2115),a=t(3999);let d=s.forwardRef((e,l)=>{let{className:t,...s}=e;return(0,r.jsx)("div",{ref:l,className:(0,a.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...s})});d.displayName="Card";let o=s.forwardRef((e,l)=>{let{className:t,...s}=e;return(0,r.jsx)("div",{ref:l,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",t),...s})});o.displayName="CardHeader";let i=s.forwardRef((e,l)=>{let{className:t,...s}=e;return(0,r.jsx)("div",{ref:l,className:(0,a.cn)("text-2xl font-semibold leading-none tracking-tight",t),...s})});i.displayName="CardTitle";let c=s.forwardRef((e,l)=>{let{className:t,...s}=e;return(0,r.jsx)("div",{ref:l,className:(0,a.cn)("text-sm text-muted-foreground",t),...s})});c.displayName="CardDescription";let x=s.forwardRef((e,l)=>{let{className:t,...s}=e;return(0,r.jsx)("div",{ref:l,className:(0,a.cn)("p-6 pt-0",t),...s})});x.displayName="CardContent";let n=s.forwardRef((e,l)=>{let{className:t,...s}=e;return(0,r.jsx)("div",{ref:l,className:(0,a.cn)("flex items-center p-6 pt-0",t),...s})});n.displayName="CardFooter"}},e=>{var l=l=>e(e.s=l);e.O(0,[183,120,441,684,358],()=>l(2493)),_N_E=e.O()}]);