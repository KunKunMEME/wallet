(()=>{var e={};e.id=974,e.ids=[974],e.modules={428:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(2688).A)("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]])},470:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>o.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>d});var r=a(5239),l=a(8088),s=a(8170),o=a.n(s),n=a(893),i={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>n[e]);a.d(t,i);let d=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,597)),"D:\\JavaScript\\kunkun2\\wallet_next\\app\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,8014)),"D:\\JavaScript\\kunkun2\\wallet_next\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,7398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(a.t.bind(a,9999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(a.t.bind(a,5284,23)),"next/dist/client/components/unauthorized-error"]}],c=["D:\\JavaScript\\kunkun2\\wallet_next\\app\\page.tsx"],u={require:a,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:l.RouteKind.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},597:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});var r=a(7413),l=a(2659),s=a(1371),o=a(4540);function n(){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.CreateWallet,{}),(0,r.jsx)(s.LoginForm,{}),(0,r.jsx)(o.HomeView,{})]})}},846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},877:(e,t,a)=>{"use strict";a.d(t,{LoginForm:()=>x});var r=a(687),l=a(3210),s=a(9836),o=a(5192),n=a(4934),i=a(8988),d=a(9390),c=a(4021),u=a(2838),m=a(8124),h=a(1702);function x(){let{isLoggedIn:e,login:t,isWalletCreated:a}=(0,s.v)(),x=(0,m.G)(),f=(0,m.l)(),[y,w]=(0,l.useState)(""),[p,g]=(0,l.useState)(!1),{t:b}=(0,u.B)(),{toast:v}=(0,h.dj)(),k=async e=>{let{encPassword:t,getBalance:a}=window.P2P;t(y)===x.password?f.setIsLock(!1):v({title:b("loginFailed"),description:b("incorrectPassword"),variant:"destructive"})};return x.address&&f.isLock?(0,r.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-yellow-50 to-pink-50 dark:from-gray-900 dark:to-yellow-900/20",children:(0,r.jsxs)(o.Zp,{className:"w-full max-w-md border-2 border-yellow-400 bg-white dark:bg-gray-900",children:[(0,r.jsxs)(o.aR,{className:"space-y-1",children:[(0,r.jsx)("div",{className:"flex justify-center mb-4",children:(0,r.jsx)("img",{src:"/images/kunkun-full.png",alt:"KUNKUN",className:"w-24 h-24"})}),(0,r.jsxs)(o.ZB,{className:"text-2xl font-bold text-center text-yellow-600 dark:text-yellow-400",children:["KUNKUN ",b("wallet")]}),(0,r.jsx)(o.BT,{className:"text-center text-yellow-600/80 dark:text-yellow-500/80",children:b("enterPasswordToLogin")})]}),(0,r.jsx)(o.Wu,{children:(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(d.J,{htmlFor:"password",className:"text-yellow-700 dark:text-yellow-400",children:b("walletPassword")}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(c.A,{className:"absolute left-3 top-3 h-4 w-4 text-yellow-500"}),(0,r.jsx)(i.p,{id:"password",type:"password",placeholder:b("enterYourPassword"),className:"pl-10 border-yellow-300 focus:border-yellow-500 dark:border-yellow-900 dark:focus:border-yellow-700",value:y,onChange:e=>w(e.target.value),autoComplete:"off"})]})]}),(0,r.jsx)(n.$,{onClick:k,className:"w-full bg-yellow-500 hover:bg-yellow-600 text-white dark:bg-yellow-600 dark:hover:bg-yellow-700",disabled:p,children:p?b("loggingIn"):b("login")})]})})]})}):null}},955:(e,t,a)=>{Promise.resolve().then(a.bind(a,4673)),Promise.resolve().then(a.bind(a,8296)),Promise.resolve().then(a.bind(a,877))},1371:(e,t,a)=>{"use strict";a.d(t,{LoginForm:()=>r});let r=(0,a(2907).registerClientReference)(function(){throw Error("Attempted to call LoginForm() from the server but LoginForm is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\JavaScript\\kunkun2\\wallet_next\\components\\login-form.tsx","LoginForm")},2659:(e,t,a)=>{"use strict";a.d(t,{CreateWallet:()=>r});let r=(0,a(2907).registerClientReference)(function(){throw Error("Attempted to call CreateWallet() from the server but CreateWallet is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\JavaScript\\kunkun2\\wallet_next\\components\\create-wallet.tsx","CreateWallet")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3639:(e,t,a)=>{"use strict";a.d(t,{d:()=>s});var r=a(687);a(3210);let l=(0,a(2688).A)("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]),s=({page:e,pageSize:t,total:a,onPageChange:s,recordsText:o=""})=>{let n=Math.max(1,Math.ceil(a/t));return(0,r.jsxs)("div",{className:"flex justify-center mt-4 items-center gap-1 select-none",children:[(0,r.jsx)("span",{className:`cursor-pointer px-2 py-1 text-sm ${1===e?"text-gray-400 cursor-not-allowed":"text-yellow-600 hover:text-yellow-700 dark:text-yellow-500 dark:hover:text-yellow-400"}`,onClick:()=>1!==e&&s(e-1),children:"<"}),Array.from({length:n}).map((t,a)=>{let o=a+1;return 1===o||o===n||o>=e-1&&o<=e+1&&n>4||n<=7?(0,r.jsx)("span",{className:`px-2 py-1 text-sm cursor-pointer ${o===e?"font-bold border border-yellow-500 bg-yellow-100 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-400":"hover:text-yellow-700 dark:hover:text-yellow-400"}`,onClick:()=>s(o),children:o},o):o===e-2&&o>1&&o<n-1||o===e+2&&o<n&&o>2?(0,r.jsx)("span",{className:"px-1 text-yellow-500",children:(0,r.jsx)(l,{className:"h-4 w-4"})},o):null}),(0,r.jsx)("span",{className:`cursor-pointer px-2 py-1 text-sm ${e===n?"text-gray-400 cursor-not-allowed":"text-yellow-600 hover:text-yellow-700 dark:text-yellow-500 dark:hover:text-yellow-400"}`,onClick:()=>e!==n&&s(e+1),children:">"}),(0,r.jsxs)("span",{className:"text-yellow-600/70 dark:text-yellow-500/70 ml-2 text-xs",children:[o," ",a]})]})}},3873:e=>{"use strict";e.exports=require("path")},4021:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(2688).A)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},4540:(e,t,a)=>{"use strict";a.d(t,{HomeView:()=>r});let r=(0,a(2907).registerClientReference)(function(){throw Error("Attempted to call HomeView() from the server but HomeView is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\JavaScript\\kunkun2\\wallet_next\\components\\home-view.tsx","HomeView")},4673:(e,t,a)=>{"use strict";a.d(t,{CreateWallet:()=>y});var r=a(687),l=a(3210),s=a(9836),o=a(5192),n=a(4934),i=a(8988),d=a(9390),c=a(4021),u=a(428);let m=(0,a(2688).A)("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);var h=a(1702),x=a(2838),f=a(8124);function y(){let{createWallet:e,isWalletCreated:t}=(0,s.v)(),a=(0,f.G)();(0,f.l)();let[y,w]=(0,l.useState)(""),[p,g]=(0,l.useState)(""),[b,v]=(0,l.useState)(""),[k,j]=(0,l.useState)(""),{toast:N}=(0,h.dj)(),{t:M}=(0,x.B)(),[C,P]=(0,l.useState)(!1),[S,D]=(0,l.useState)(0);if(a.address)return null;let W=async e=>{if(y.length<8){j(M("passwordMinLength"));return}if(y!==p){j(M("passwordsDoNotMatch"));return}P(!0),P(!1)};return(0,r.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-yellow-50 to-pink-50 dark:from-gray-900 dark:to-yellow-900/20",children:(0,r.jsxs)(o.Zp,{className:"w-full max-w-md border-2 border-yellow-400 bg-white dark:bg-gray-900",children:[(0,r.jsxs)(o.aR,{className:"space-y-1",children:[(0,r.jsx)("div",{className:"flex justify-center mb-4",children:(0,r.jsx)("img",{src:"/images/kunkun-full.png",alt:"KUNKUN",className:"w-24 h-24"})}),(0,r.jsxs)(o.ZB,{className:"text-2xl font-bold text-center text-yellow-600 dark:text-yellow-400",children:["KUNKUN ",M("wallet")]}),(0,r.jsx)(o.BT,{className:"text-center text-yellow-600/80 dark:text-yellow-500/80",children:M("setYourPassword")})]}),(0,r.jsx)(o.Wu,{children:(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(d.J,{htmlFor:"password",className:"text-yellow-700 dark:text-yellow-400",children:M("walletPassword")}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(c.A,{className:"absolute left-3 top-3 h-4 w-4 text-yellow-500"}),(0,r.jsx)(i.p,{id:"password",type:"password",placeholder:M("setYourPassword"),className:"pl-10 border-yellow-300 focus:border-yellow-500 dark:border-yellow-900 dark:focus:border-yellow-700",value:y,onChange:e=>w(e.target.value),required:!0,autoComplete:"off"})]}),(0,r.jsx)("p",{className:"text-xs text-yellow-600/80 dark:text-yellow-500/80",children:M("passwordMinLength")})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(d.J,{htmlFor:"confirm-password",className:"text-yellow-700 dark:text-yellow-400",children:M("confirmPassword")}),(0,r.jsx)(i.p,{id:"confirm-password",type:"password",placeholder:M("confirmPassword"),className:"border-yellow-300 focus:border-yellow-500 dark:border-yellow-900 dark:focus:border-yellow-700",value:p,onChange:e=>g(e.target.value),required:!0})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(d.J,{htmlFor:"referral-code",className:"text-yellow-700 dark:text-yellow-400",children:M("referralCode")}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(u.A,{className:"absolute left-3 top-3 h-4 w-4 text-yellow-500"}),(0,r.jsx)(i.p,{id:"referral-code",placeholder:M("enterReferralCode"),className:"pl-10 border-yellow-300 focus:border-yellow-500 dark:border-yellow-900 dark:focus:border-yellow-700",value:b,onChange:e=>v(e.target.value),autoComplete:"off"})]}),(0,r.jsx)("p",{className:"text-xs text-yellow-600/80 dark:text-yellow-500/80",children:M("referralBonus")})]}),k&&(0,r.jsx)("div",{className:"text-sm text-red-500",children:k}),(0,r.jsx)(n.$,{onClick:W,className:"w-full bg-yellow-500 hover:bg-yellow-600 text-white dark:bg-yellow-600 dark:hover:bg-yellow-700",disabled:C||0==S,children:C?M("creating"):M("createWallet")}),0==S&&(0,r.jsxs)("div",{className:"flex items-center justify-center gap-2 text-sm text-red-600/80 dark:text-red-500/80 text-center",children:[(0,r.jsx)(m,{className:"h-4 w-4"}),M("p2pUnlinked")]})]})}),(0,r.jsx)(o.wL,{className:"border-t border-yellow-200 dark:border-yellow-900/50 pt-4",children:(0,r.jsx)("div",{className:"text-sm text-yellow-600/80 dark:text-yellow-500/80 text-center w-full",children:M("termsAndConditions")})})]})})}},5192:(e,t,a)=>{"use strict";a.d(t,{BT:()=>d,Wu:()=>c,ZB:()=>i,Zp:()=>o,aR:()=>n,wL:()=>u});var r=a(687),l=a(3210),s=a(6241);let o=l.forwardRef(({className:e,...t},a)=>(0,r.jsx)("div",{ref:a,className:(0,s.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));o.displayName="Card";let n=l.forwardRef(({className:e,...t},a)=>(0,r.jsx)("div",{ref:a,className:(0,s.cn)("flex flex-col space-y-1.5 p-6",e),...t}));n.displayName="CardHeader";let i=l.forwardRef(({className:e,...t},a)=>(0,r.jsx)("div",{ref:a,className:(0,s.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t}));i.displayName="CardTitle";let d=l.forwardRef(({className:e,...t},a)=>(0,r.jsx)("div",{ref:a,className:(0,s.cn)("text-sm text-muted-foreground",e),...t}));d.displayName="CardDescription";let c=l.forwardRef(({className:e,...t},a)=>(0,r.jsx)("div",{ref:a,className:(0,s.cn)("p-6 pt-0",e),...t}));c.displayName="CardContent";let u=l.forwardRef(({className:e,...t},a)=>(0,r.jsx)("div",{ref:a,className:(0,s.cn)("flex items-center p-6 pt-0",e),...t}));u.displayName="CardFooter"},6883:(e,t,a)=>{Promise.resolve().then(a.bind(a,2659)),Promise.resolve().then(a.bind(a,4540)),Promise.resolve().then(a.bind(a,1371))},8296:(e,t,a)=>{"use strict";a.d(t,{HomeView:()=>q});var r=a(687),l=a(4934),s=a(5192),o=a(3210),n=a(8960),i=a(1860),d=a(6241);let c=n.bL;n.l9;let u=n.ZL;n.bm;let m=o.forwardRef(({className:e,...t},a)=>(0,r.jsx)(n.hJ,{ref:a,className:(0,d.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));m.displayName=n.hJ.displayName;let h=o.forwardRef(({className:e,children:t,...a},l)=>(0,r.jsxs)(u,{children:[(0,r.jsx)(m,{}),(0,r.jsxs)(n.UC,{ref:l,className:(0,d.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...a,children:[t,(0,r.jsxs)(n.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,r.jsx)(i.A,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Close"})]})]})]}));h.displayName=n.UC.displayName;let x=({className:e,...t})=>(0,r.jsx)("div",{className:(0,d.cn)("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});x.displayName="DialogHeader";let f=({className:e,...t})=>(0,r.jsx)("div",{className:(0,d.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});f.displayName="DialogFooter";let y=o.forwardRef(({className:e,...t},a)=>(0,r.jsx)(n.hE,{ref:a,className:(0,d.cn)("text-lg font-semibold leading-none tracking-tight",e),...t}));y.displayName=n.hE.displayName;let w=o.forwardRef(({className:e,...t},a)=>(0,r.jsx)(n.VY,{ref:a,className:(0,d.cn)("text-sm text-muted-foreground",e),...t}));w.displayName=n.VY.displayName;var p=a(8988),g=a(9390),b=a(3639),v=a(1702),k=a(2838);let j=()=>{let[e,t]=(0,o.useState)(!1);return(0,o.useEffect)(()=>{t(!0)},[]),e};var N=a(8124);let M=Symbol.for("constructDateFrom");function C(e,t){return"function"==typeof e?e(t):e&&"object"==typeof e&&M in e?e[M](t):e instanceof Date?new e.constructor(t):new Date(t)}let P={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function S(e){return (t={})=>{let a=t.width?String(t.width):e.defaultWidth;return e.formats[a]||e.formats[e.defaultWidth]}}let D={date:S({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:S({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:S({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},W={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function A(e){return(t,a)=>{let r;if("formatting"===(a?.context?String(a.context):"standalone")&&e.formattingValues){let t=e.defaultFormattingWidth||e.defaultWidth,l=a?.width?String(a.width):t;r=e.formattingValues[l]||e.formattingValues[t]}else{let t=e.defaultWidth,l=a?.width?String(a.width):e.defaultWidth;r=e.values[l]||e.values[t]}return r[e.argumentCallback?e.argumentCallback(t):t]}}function F(e){return(t,a={})=>{let r;let l=a.width,s=l&&e.matchPatterns[l]||e.matchPatterns[e.defaultMatchWidth],o=t.match(s);if(!o)return null;let n=o[0],i=l&&e.parsePatterns[l]||e.parsePatterns[e.defaultParseWidth],d=Array.isArray(i)?function(e,t){for(let a=0;a<e.length;a++)if(t(e[a]))return a}(i,e=>e.test(n)):function(e,t){for(let a in e)if(Object.prototype.hasOwnProperty.call(e,a)&&t(e[a]))return a}(i,e=>e.test(n));return r=e.valueCallback?e.valueCallback(d):d,{value:r=a.valueCallback?a.valueCallback(r):r,rest:t.slice(n.length)}}}let T={code:"en-US",formatDistance:(e,t,a)=>{let r;let l=P[e];return(r="string"==typeof l?l:1===t?l.one:l.other.replace("{{count}}",t.toString()),a?.addSuffix)?a.comparison&&a.comparison>0?"in "+r:r+" ago":r},formatLong:D,formatRelative:(e,t,a,r)=>W[e],localize:{ordinalNumber:(e,t)=>{let a=Number(e),r=a%100;if(r>20||r<10)switch(r%10){case 1:return a+"st";case 2:return a+"nd";case 3:return a+"rd"}return a+"th"},era:A({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:A({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:A({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:A({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:A({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:function(e){return(t,a={})=>{let r=t.match(e.matchPattern);if(!r)return null;let l=r[0],s=t.match(e.parsePattern);if(!s)return null;let o=e.valueCallback?e.valueCallback(s[0]):s[0];return{value:o=a.valueCallback?a.valueCallback(o):o,rest:t.slice(l.length)}}}({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)}),era:F({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:F({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:F({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:F({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:F({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}},R={};function J(e,t){return C(t||e,e)}function L(e){let t=J(e),a=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return a.setUTCFullYear(t.getFullYear()),+e-+a}function z(e,...t){let a=C.bind(null,e||t.find(e=>"object"==typeof e));return t.map(a)}function U(e,t){let a=+J(e)-+J(t);return a<0?-1:a>0?1:a}var _=a(7910),X=a(2688);let B=(0,X.A)("ArrowDownLeft",[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]]),Y=(0,X.A)("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);function q(){let e=(0,N.G)(),t=(0,N.l)(),[a,n]=(0,o.useState)(!1),[i,u]=(0,o.useState)(""),{t:m}=(0,k.B)(),{toast:M}=(0,v.dj)(),[P,S]=(0,o.useState)([]),[D,W]=(0,o.useState)(1),[A,F]=(0,o.useState)(5),[X,q]=(0,o.useState)(0),[H,$]=(0,o.useState)(!1),[V,E]=(0,o.useState)(e.chainAddress),[K,I]=(0,o.useState)({amount:"0",createAt:""}),[O,Z]=(0,o.useState)(!1),[G,Q]=(0,o.useState)(0),[ee,et]=(0,o.useState)(""),[ea,er]=(0,o.useState)(!1),[el,es]=(0,o.useState)("");async function eo(){if(!e.address||!e.key)return;let{getLastSignTime:t}=window.P2P;try{let a=await t(e.address);I(a)}catch(e){e?.type==="error"&&M({title:m("error"),description:e?.msg,variant:"destructive"})}}async function en(){if(e.address&&e.key){if(G<100){let e=new Date(K.createAt),t=Math.max(0,2-(new Date().getTime()-e.getTime())/36e5),a=Math.floor(t%1*60);M({title:m("signCooldown"),description:`${m("nextSignIn")} ${Math.floor(t)}h ${a}m`,variant:"default"});return}er(!0)}}async function ei(){if("i love kunkun"!==el.trim().toLowerCase()){M({title:m("error"),description:m("invalidSignVerification"),variant:"destructive"});return}let{walletSign:t}=window.P2P;try{await t(e.address,e.key),eo(),Q(0),er(!1),es(""),M({title:m("success"),description:m("sign")+" "+m("success"),variant:"default"})}catch(e){e?.type==="error"&&M({title:m("error"),description:e?.msg,variant:"destructive"})}}if(!j()||!e.address||t.isLock)return null;let ed=e=>+e>0?(0,r.jsx)(B,{className:"h-5 w-5 text-green-600"}):0>+e?(0,r.jsx)(Y,{className:"h-5 w-5 text-red-600"}):(0,r.jsx)(B,{className:"h-5 w-5 text-gray-400"}),ec=e=>+e>0?"bg-green-100 dark:bg-green-900/30":0>+e?"bg-red-100 dark:bg-red-900/30":"",eu=e=>+e>0?"text-green-600 dark:text-green-400":0>+e?"text-red-600 dark:text-red-400":"text-gray-400",em=async()=>{if(!/^0x[a-fA-F0-9]{40}$/.test(V)){M({title:m("error"),description:m("invalidAddress"),variant:"destructive"});return}try{let{txHash:t}=await window.P2P.payChain(e.key,i,V);n(!1),u(""),e.setChainAddress(V),M({title:m("success"),description:t,variant:"default"})}catch(e){e?.type==="error"&&M({title:m("error"),description:e?.msg,variant:"destructive"})}};return(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("img",{src:"/images/placeholder-logo2.png",alt:"KUNKUN",className:"w-10"}),(0,r.jsx)("h1",{className:"text-2xl font-bold text-yellow-500",children:m("home")})]}),(0,r.jsxs)(s.Zp,{className:"border-2 border-yellow-400 bg-gradient-to-br from-pink-50 to-yellow-50 dark:from-gray-900 dark:to-gray-800",children:[(0,r.jsxs)(s.aR,{className:"pb-2 flex flex-row items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(s.ZB,{className:"text-yellow-700 dark:text-yellow-400",children:m("currentBalance")}),(0,r.jsx)(s.BT,{className:"text-yellow-600/80 dark:text-yellow-500/80",children:m("yourTokenBalance")})]}),(0,r.jsxs)("div",{className:"flex flex-row  items-center ",children:[(0,r.jsxs)("div",{className:"w-full h-2 bg-gray-200 rounded-full dark:bg-gray-700",children:[(0,r.jsx)("div",{className:"h-2 bg-yellow-400 rounded-full dark:bg-yellow-600 transition-all duration-300 ease-in-out",style:{width:`${G}%`}}),G<100&&(0,r.jsxs)("div",{className:"text-xs text-yellow-600/80 dark:text-yellow-500/80",children:[m("nextSignIn")," ",ee]}),G>=100&&(0,r.jsx)("div",{className:"text-xs text-green-600 dark:text-green-400",children:m("canSignAgain")})]}),(0,r.jsx)(l.$,{variant:"outline",size:"sm",onClick:en,disabled:G<100,className:`border-yellow-400 text-yellow-700 hover:bg-yellow-100 hover:text-yellow-800 dark:border-yellow-800 dark:text-yellow-400 dark:hover:bg-yellow-900/30 ${G<100?"opacity-50 cursor-not-allowed":""} ml-5`,children:G>=100?m("sign"):`${Math.floor(G)}%`})]})]}),(0,r.jsxs)(s.Wu,{children:[(0,r.jsxs)("div",{className:"text-3xl font-bold text-yellow-600 dark:text-yellow-400",children:[Number(new _.A(e.balance).toFixed(2)).toLocaleString()," KUNKUN"]}),(0,r.jsx)("div",{className:"mt-3 flex space-x-2",children:(0,r.jsxs)(l.$,{variant:"outline",size:"sm",onClick:()=>{u(""),n(!0)},className:"border-yellow-400 text-yellow-700 hover:bg-yellow-100 hover:text-yellow-800 dark:border-yellow-800 dark:text-yellow-400 dark:hover:bg-yellow-900/30",children:[(0,r.jsx)(Y,{className:"mr-2 h-4 w-4"}),m("withdraw")]})})]})]}),(0,r.jsxs)(s.Zp,{className:"border-2 border-yellow-400 bg-gradient-to-br from-pink-50 to-yellow-50 dark:from-gray-900 dark:to-gray-800",children:[(0,r.jsxs)(s.aR,{className:"pb-2 flex flex-row justify-between items-center",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(s.ZB,{className:"text-yellow-700 dark:text-yellow-400",children:m("transactionHistory")}),(0,r.jsx)(s.BT,{className:"text-yellow-600/80 dark:text-yellow-500/80",children:m("recentTransactions")})]}),(0,r.jsx)(b.d,{page:D,pageSize:A,total:X,onPageChange:W,recordsText:m("records")})]}),(0,r.jsx)(s.Wu,{className:"max-h-[350px] overflow-y-auto",children:(0,r.jsx)("div",{className:"space-y-3",children:P.length>0?P.map(e=>{var t,a;return(0,r.jsxs)("div",{className:"flex items-center justify-between border-b border-yellow-200 dark:border-yellow-900/50 pb-3",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:(0,d.cn)("p-1.5 rounded-full mr-2",ec(e.amount)),children:ed(e.amount)}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"font-medium text-yellow-700 dark:text-yellow-400 text-sm",children:e.type}),(0,r.jsx)("div",{className:"text-xs text-yellow-600/70 dark:text-yellow-500/70",children:(t=new Date(e.create),a={addSuffix:!0},function(e,t,a){let r;let l=a?.locale??R.locale??T,s=U(e,t);if(isNaN(s))throw RangeError("Invalid time value");let o=Object.assign({},a,{addSuffix:a?.addSuffix,comparison:s}),[n,i]=z(a?.in,...s>0?[t,e]:[e,t]),d=function(e,t,a){var r;return(r=void 0,e=>{let t=(r?Math[r]:Math.trunc)(e);return 0===t?0:t})((+J(e)-+J(t))/1e3)}(i,n),c=Math.round((d-(L(i)-L(n))/1e3)/60);if(c<2){if(a?.includeSeconds){if(d<5)return l.formatDistance("lessThanXSeconds",5,o);if(d<10)return l.formatDistance("lessThanXSeconds",10,o);if(d<20)return l.formatDistance("lessThanXSeconds",20,o);else if(d<40)return l.formatDistance("halfAMinute",0,o);else if(d<60)return l.formatDistance("lessThanXMinutes",1,o);else return l.formatDistance("xMinutes",1,o)}return 0===c?l.formatDistance("lessThanXMinutes",1,o):l.formatDistance("xMinutes",c,o)}if(c<45)return l.formatDistance("xMinutes",c,o);if(c<90)return l.formatDistance("aboutXHours",1,o);if(c<1440){let e=Math.round(c/60);return l.formatDistance("aboutXHours",e,o)}if(c<2520)return l.formatDistance("xDays",1,o);else if(c<43200){let e=Math.round(c/1440);return l.formatDistance("xDays",e,o)}else if(c<86400)return r=Math.round(c/43200),l.formatDistance("aboutXMonths",r,o);if((r=function(e,t,a){let[r,l,s]=z(void 0,e,e,t),o=U(l,s),n=Math.abs(function(e,t,a){let[r,l]=z(void 0,e,t);return 12*(r.getFullYear()-l.getFullYear())+(r.getMonth()-l.getMonth())}(l,s));if(n<1)return 0;1===l.getMonth()&&l.getDate()>27&&l.setDate(30),l.setMonth(l.getMonth()-o*n);let i=U(l,s)===-o;(function(e,t){let a=J(e,void 0);return+function(e,t){let a=J(e,t?.in);return a.setHours(23,59,59,999),a}(a,void 0)==+function(e,t){let a=J(e,t?.in),r=a.getMonth();return a.setFullYear(a.getFullYear(),r+1,0),a.setHours(23,59,59,999),a}(a,t)})(r)&&1===n&&1===U(r,s)&&(i=!1);let d=o*(n-+i);return 0===d?0:d}(i,n))<12){let e=Math.round(c/43200);return l.formatDistance("xMonths",e,o)}{let e=r%12,t=Math.trunc(r/12);return e<3?l.formatDistance("aboutXYears",t,o):e<9?l.formatDistance("overXYears",t,o):l.formatDistance("almostXYears",t+1,o)}}(t,C(t,Date.now()),a))})]})]}),(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsxs)("div",{className:eu(e.amount),children:[" ",Number(new _.A(e.amount).toFixed(2)).toLocaleString()," KUNKUN"]}),(0,r.jsx)("div",{className:"text-xs text-yellow-600/70 dark:text-yellow-500/70",children:e.tag2?e.tag2:e.tag})]})]},e.id)}):(0,r.jsx)("div",{className:"text-center py-4 text-yellow-600/70 dark:text-yellow-500/70",children:m("noTransactions")})})})]}),(0,r.jsx)(c,{open:a,onOpenChange:n,children:(0,r.jsxs)(h,{className:"sm:max-w-[400px] border-2 border-yellow-400 bg-white dark:bg-gray-900",children:[(0,r.jsxs)(x,{children:[(0,r.jsx)(y,{className:"text-yellow-700 dark:text-yellow-400",children:m("withdrawalConfirmation")}),(0,r.jsx)(w,{className:"text-yellow-600/80 dark:text-yellow-500/80",children:m("minimumWithdrawal")})]}),(0,r.jsxs)("div",{className:"grid gap-4 py-3",children:[(0,r.jsxs)("div",{className:"grid grid-cols-4 items-center gap-3",children:[(0,r.jsx)(g.J,{htmlFor:"amount",className:"text-right text-yellow-700 dark:text-yellow-400",children:m("withdrawalAmount")}),(0,r.jsx)(p.p,{id:"amount",type:"number",value:i,onChange:e=>u(e.target.value),className:"col-span-3 border-yellow-300 focus:border-yellow-500 dark:border-yellow-900 dark:focus:border-yellow-700",min:"10000",step:"1"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-4 items-center gap-3",children:[(0,r.jsx)(g.J,{htmlFor:"address",className:"text-right text-yellow-700 dark:text-yellow-400",children:m("to")}),(0,r.jsx)(p.p,{id:"amount",type:"text",value:V,onChange:e=>E(e.target.value),className:"col-span-3 border-yellow-300 focus:border-yellow-500 dark:border-yellow-900 dark:focus:border-yellow-700",autoComplete:"off"})]})]}),(0,r.jsxs)(f,{children:[(0,r.jsx)(l.$,{variant:"outline",onClick:()=>n(!1),className:"border-yellow-400 text-yellow-700 hover:bg-yellow-100 hover:text-yellow-800 dark:border-yellow-800 dark:text-yellow-400 dark:hover:bg-yellow-900/30",children:m("cancel")}),(0,r.jsx)(l.$,{onClick:em,disabled:H||!i||1e4>Number.parseFloat(i)||Number.parseFloat(i)>Number.parseFloat(e.balance),className:"bg-yellow-500 hover:bg-yellow-600 text-white dark:bg-yellow-600 dark:hover:bg-yellow-700",children:H?m("processing"):m("confirm")})]})]})}),(0,r.jsx)(c,{open:ea,onOpenChange:er,children:(0,r.jsxs)(h,{className:"sm:max-w-[400px] border-2 border-yellow-400 bg-white dark:bg-gray-900",children:[(0,r.jsxs)(x,{children:[(0,r.jsx)(y,{className:"text-yellow-700 dark:text-yellow-400",children:m("signVerification")}),(0,r.jsx)(w,{className:"text-yellow-600/80 dark:text-yellow-500/80",children:m("enterSignVerification")})]}),(0,r.jsx)("div",{className:"grid gap-4 py-3",children:(0,r.jsxs)("div",{className:"grid grid-cols-4 items-center gap-3",children:[(0,r.jsx)(g.J,{htmlFor:"verification",className:"text-right text-yellow-700 dark:text-yellow-400 select-none",children:m("verification")}),(0,r.jsx)(p.p,{id:"verification",type:"text",value:el,onChange:e=>es(e.target.value),className:"col-span-3 border-yellow-300 focus:border-yellow-500 dark:border-yellow-900 dark:focus:border-yellow-700",placeholder:"I love Kunkun",onPaste:e=>e.preventDefault(),autoComplete:"off"})]})}),(0,r.jsxs)(f,{children:[(0,r.jsx)(l.$,{variant:"outline",onClick:()=>{er(!1),es("")},className:"border-yellow-400 text-yellow-700 hover:bg-yellow-100 hover:text-yellow-800 dark:border-yellow-800 dark:text-yellow-400 dark:hover:bg-yellow-900/30",children:m("cancel")}),(0,r.jsx)(l.$,{onClick:ei,className:"bg-yellow-500 hover:bg-yellow-600 text-white dark:bg-yellow-600 dark:hover:bg-yellow-700",children:m("confirm")})]})]})})]})}},8988:(e,t,a)=>{"use strict";a.d(t,{p:()=>o});var r=a(687),l=a(3210),s=a(6241);let o=l.forwardRef(({className:e,type:t,...a},l)=>(0,r.jsx)("input",{type:t,className:(0,s.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:l,...a}));o.displayName="Input"},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},9390:(e,t,a)=>{"use strict";a.d(t,{J:()=>d});var r=a(687),l=a(3210),s=a(8148),o=a(4224),n=a(6241);let i=(0,o.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=l.forwardRef(({className:e,...t},a)=>(0,r.jsx)(s.b,{ref:a,className:(0,n.cn)(i(),e),...t}));d.displayName=s.b.displayName}};var t=require("../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[956,437,258],()=>a(470));module.exports=r})();